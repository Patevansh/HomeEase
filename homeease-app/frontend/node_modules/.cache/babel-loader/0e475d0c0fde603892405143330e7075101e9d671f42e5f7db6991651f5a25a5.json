{"ast":null,"code":"var _jsxFileName = \"/mnt/53B95BA73C164FFE/HomeEase/homeease-app/frontend/src/contexts/AuthContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { cleanupAuthState } from '../utils/authUtils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext();\nexport const useAuth = () => {\n  _s();\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};\n_s(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const AuthProvider = ({\n  children\n}) => {\n  _s2();\n  // Clean up any invalid tokens before initializing\n  const isValidToken = cleanupAuthState();\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [token, setToken] = useState(isValidToken ? localStorage.getItem('homeease_token') : null);\n\n  // Set up axios defaults\n  useEffect(() => {\n    if (token) {\n      // Validate token format before using it\n      const tokenParts = token.split('.');\n      if (tokenParts.length === 3) {\n        axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n      } else {\n        console.log('Invalid token format detected, clearing token');\n        localStorage.removeItem('homeease_token');\n        setToken(null);\n        setUser(null);\n      }\n    } else {\n      delete axios.defaults.headers.common['Authorization'];\n    }\n\n    // Add response interceptor to handle token errors\n    const interceptor = axios.interceptors.response.use(response => response, error => {\n      var _error$response, _error$response2, _error$response2$data, _error$response2$data2, _error$response3, _error$response3$data, _error$response3$data2, _error$response4, _error$response4$data, _error$response4$data2, _error$response5, _error$response5$data, _error$response5$data2, _error$response6, _error$response6$data, _error$response6$data2, _error$response7, _error$response7$data, _error$response7$data2;\n      // Only handle auth errors if we have a user (avoid errors during logout)\n      if (user && ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401 && ((_error$response2 = error.response) !== null && _error$response2 !== void 0 && (_error$response2$data = _error$response2.data) !== null && _error$response2$data !== void 0 && (_error$response2$data2 = _error$response2$data.message) !== null && _error$response2$data2 !== void 0 && _error$response2$data2.includes('jwt') || (_error$response3 = error.response) !== null && _error$response3 !== void 0 && (_error$response3$data = _error$response3.data) !== null && _error$response3$data !== void 0 && (_error$response3$data2 = _error$response3$data.message) !== null && _error$response3$data2 !== void 0 && _error$response3$data2.includes('Token') || (_error$response4 = error.response) !== null && _error$response4 !== void 0 && (_error$response4$data = _error$response4.data) !== null && _error$response4$data !== void 0 && (_error$response4$data2 = _error$response4$data.message) !== null && _error$response4$data2 !== void 0 && _error$response4$data2.includes('signature') || (_error$response5 = error.response) !== null && _error$response5 !== void 0 && (_error$response5$data = _error$response5.data) !== null && _error$response5$data !== void 0 && (_error$response5$data2 = _error$response5$data.message) !== null && _error$response5$data2 !== void 0 && _error$response5$data2.includes('malformed') || (_error$response6 = error.response) !== null && _error$response6 !== void 0 && (_error$response6$data = _error$response6.data) !== null && _error$response6$data !== void 0 && (_error$response6$data2 = _error$response6$data.message) !== null && _error$response6$data2 !== void 0 && _error$response6$data2.includes('Invalid token') || (_error$response7 = error.response) !== null && _error$response7 !== void 0 && (_error$response7$data = _error$response7.data) !== null && _error$response7$data !== void 0 && (_error$response7$data2 = _error$response7$data.message) !== null && _error$response7$data2 !== void 0 && _error$response7$data2.includes('User not found'))) {\n        // Token is invalid or user doesn't exist, logout user\n        console.log('Invalid token or user not found, logging out user');\n        logout();\n      }\n      return Promise.reject(error);\n    });\n\n    // Clean up interceptor\n    return () => {\n      axios.interceptors.response.eject(interceptor);\n    };\n  }, [token, user]);\n\n  // Check if user is logged in on app start\n  useEffect(() => {\n    const checkAuth = async () => {\n      if (token) {\n        try {\n          const response = await axios.get('/api/auth/me');\n          setUser(response.data.data.user);\n        } catch (error) {\n          console.error('Auth check failed:', error);\n          logout();\n        }\n      }\n      setLoading(false);\n    };\n    checkAuth();\n  }, [token]);\n  const login = async credentials => {\n    try {\n      const response = await axios.post('/api/auth/login', {\n        email: credentials.email,\n        password: credentials.password,\n        userType: credentials.userType || 'user'\n      });\n      const {\n        user,\n        token\n      } = response.data.data;\n      setUser(user);\n      setToken(token);\n      localStorage.setItem('homeease_token', token);\n      return {\n        success: true,\n        user\n      };\n    } catch (error) {\n      var _error$response8, _error$response8$data;\n      const message = ((_error$response8 = error.response) === null || _error$response8 === void 0 ? void 0 : (_error$response8$data = _error$response8.data) === null || _error$response8$data === void 0 ? void 0 : _error$response8$data.message) || 'Login failed';\n      return {\n        success: false,\n        message\n      };\n    }\n  };\n  const register = async userData => {\n    try {\n      const response = await axios.post('/api/auth/register', userData);\n      const {\n        user,\n        token\n      } = response.data.data;\n\n      // Only set user and token if user is approved (not pending)\n      if (user.userType === 'provider' && user.approvalStatus === 'pending') {\n        // For pending providers, don't log them in automatically\n        return {\n          success: true,\n          user,\n          pending: true\n        };\n      } else {\n        setUser(user);\n        setToken(token);\n        localStorage.setItem('homeease_token', token);\n        return {\n          success: true,\n          user\n        };\n      }\n    } catch (error) {\n      var _error$response9, _error$response9$data;\n      const message = ((_error$response9 = error.response) === null || _error$response9 === void 0 ? void 0 : (_error$response9$data = _error$response9.data) === null || _error$response9$data === void 0 ? void 0 : _error$response9$data.message) || 'Registration failed';\n      return {\n        success: false,\n        message\n      };\n    }\n  };\n  const logout = () => {\n    try {\n      console.log('Logging out user...');\n\n      // Clear user state first to prevent any additional API calls\n      setUser(null);\n      setToken(null);\n\n      // Clear localStorage\n      localStorage.removeItem('homeease_token');\n\n      // Clear axios default headers\n      delete axios.defaults.headers.common['Authorization'];\n      console.log('Logout completed successfully');\n    } catch (error) {\n      console.error('Error during logout:', error);\n      // Force clear even if there's an error\n      setUser(null);\n      setToken(null);\n      localStorage.removeItem('homeease_token');\n      delete axios.defaults.headers.common['Authorization'];\n    }\n  };\n  const updateUser = userData => {\n    setUser(prevUser => ({\n      ...prevUser,\n      ...userData\n    }));\n  };\n  const value = {\n    user,\n    loading,\n    login,\n    register,\n    logout,\n    updateUser,\n    isAuthenticated: !!user\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 166,\n    columnNumber: 5\n  }, this);\n};\n_s2(AuthProvider, \"+om8bHr8X27/50x2kDXD+Un8OpM=\");\n_c = AuthProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","axios","cleanupAuthState","jsxDEV","_jsxDEV","AuthContext","useAuth","_s","context","Error","AuthProvider","children","_s2","isValidToken","user","setUser","loading","setLoading","token","setToken","localStorage","getItem","tokenParts","split","length","defaults","headers","common","console","log","removeItem","interceptor","interceptors","response","use","error","_error$response","_error$response2","_error$response2$data","_error$response2$data2","_error$response3","_error$response3$data","_error$response3$data2","_error$response4","_error$response4$data","_error$response4$data2","_error$response5","_error$response5$data","_error$response5$data2","_error$response6","_error$response6$data","_error$response6$data2","_error$response7","_error$response7$data","_error$response7$data2","status","data","message","includes","logout","Promise","reject","eject","checkAuth","get","login","credentials","post","email","password","userType","setItem","success","_error$response8","_error$response8$data","register","userData","approvalStatus","pending","_error$response9","_error$response9$data","updateUser","prevUser","value","isAuthenticated","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/mnt/53B95BA73C164FFE/HomeEase/homeease-app/frontend/src/contexts/AuthContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { cleanupAuthState } from '../utils/authUtils';\n\nconst AuthContext = createContext();\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};\n\nexport const AuthProvider = ({ children }) => {\n  // Clean up any invalid tokens before initializing\n  const isValidToken = cleanupAuthState();\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [token, setToken] = useState(isValidToken ? localStorage.getItem('homeease_token') : null);\n\n  // Set up axios defaults\n  useEffect(() => {\n    if (token) {\n      // Validate token format before using it\n      const tokenParts = token.split('.');\n      if (tokenParts.length === 3) {\n        axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n      } else {\n        console.log('Invalid token format detected, clearing token');\n        localStorage.removeItem('homeease_token');\n        setToken(null);\n        setUser(null);\n      }\n    } else {\n      delete axios.defaults.headers.common['Authorization'];\n    }\n\n    // Add response interceptor to handle token errors\n    const interceptor = axios.interceptors.response.use(\n      (response) => response,\n      (error) => {\n        // Only handle auth errors if we have a user (avoid errors during logout)\n        if (user && error.response?.status === 401 && \n            (error.response?.data?.message?.includes('jwt') || \n             error.response?.data?.message?.includes('Token') ||\n             error.response?.data?.message?.includes('signature') ||\n             error.response?.data?.message?.includes('malformed') ||\n             error.response?.data?.message?.includes('Invalid token') ||\n             error.response?.data?.message?.includes('User not found'))) {\n          // Token is invalid or user doesn't exist, logout user\n          console.log('Invalid token or user not found, logging out user');\n          logout();\n        }\n        return Promise.reject(error);\n      }\n    );\n\n    // Clean up interceptor\n    return () => {\n      axios.interceptors.response.eject(interceptor);\n    };\n  }, [token, user]);\n\n  // Check if user is logged in on app start\n  useEffect(() => {\n    const checkAuth = async () => {\n      if (token) {\n        try {\n          const response = await axios.get('/api/auth/me');\n          setUser(response.data.data.user);\n        } catch (error) {\n          console.error('Auth check failed:', error);\n          logout();\n        }\n      }\n      setLoading(false);\n    };\n\n    checkAuth();\n  }, [token]);\n\n  const login = async (credentials) => {\n    try {\n      const response = await axios.post('/api/auth/login', {\n        email: credentials.email,\n        password: credentials.password,\n        userType: credentials.userType || 'user'\n      });\n\n      const { user, token } = response.data.data;\n      \n      setUser(user);\n      setToken(token);\n      localStorage.setItem('homeease_token', token);\n      \n      return { success: true, user };\n    } catch (error) {\n      const message = error.response?.data?.message || 'Login failed';\n      return { success: false, message };\n    }\n  };\n\n  const register = async (userData) => {\n    try {\n      const response = await axios.post('/api/auth/register', userData);\n      \n      const { user, token } = response.data.data;\n      \n      // Only set user and token if user is approved (not pending)\n      if (user.userType === 'provider' && user.approvalStatus === 'pending') {\n        // For pending providers, don't log them in automatically\n        return { success: true, user, pending: true };\n      } else {\n        setUser(user);\n        setToken(token);\n        localStorage.setItem('homeease_token', token);\n        return { success: true, user };\n      }\n    } catch (error) {\n      const message = error.response?.data?.message || 'Registration failed';\n      return { success: false, message };\n    }\n  };\n\n  const logout = () => {\n    try {\n      console.log('Logging out user...');\n      \n      // Clear user state first to prevent any additional API calls\n      setUser(null);\n      setToken(null);\n      \n      // Clear localStorage\n      localStorage.removeItem('homeease_token');\n      \n      // Clear axios default headers\n      delete axios.defaults.headers.common['Authorization'];\n      \n      console.log('Logout completed successfully');\n    } catch (error) {\n      console.error('Error during logout:', error);\n      // Force clear even if there's an error\n      setUser(null);\n      setToken(null);\n      localStorage.removeItem('homeease_token');\n      delete axios.defaults.headers.common['Authorization'];\n    }\n  };\n\n  const updateUser = (userData) => {\n    setUser(prevUser => ({ ...prevUser, ...userData }));\n  };\n\n  const value = {\n    user,\n    loading,\n    login,\n    register,\n    logout,\n    updateUser,\n    isAuthenticated: !!user,\n  };\n\n  return (\n    <AuthContext.Provider value={value}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}